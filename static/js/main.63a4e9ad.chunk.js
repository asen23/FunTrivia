(this.webpackJsonpfuntrivia=this.webpackJsonpfuntrivia||[]).push([[0],{12:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(4),i=c.n(s),r=(c(9),c(2)),o=c(0);var l=function(e){return Object(o.jsx)("button",{className:"bg-blue b--light-blue br3 f2 pa2 ma2 grow",onClick:e.onClick,children:e.name})};var u=function(e){var t=Object(n.useState)(!0),c=Object(r.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)({}),u=Object(r.a)(i,2),j=u[0],b=u[1],f=Object(n.useState)([]),d=Object(r.a)(f,2),O=d[0],h=d[1],m=Object(n.useState)(void 0),g=Object(r.a)(m,2),y=g[0],x=g[1],p=Object(n.useState)(0),v=Object(r.a)(p,2),S=v[0],C=v[1],N=Object(n.useState)(!1),I=Object(r.a)(N,2),w=I[0],k=I[1],A=Object(n.useCallback)((function(){s(!0),fetch(e.url,{mode:"cors"}).then((function(e){return e.json()})).then((function(e){C(0),b(e.results[0]);var t=e.results[0].incorrect_answers;t.push(e.results[0].correct_answer),t.sort((function(){return.5-Math.random()})),h(t),s(!1)})).catch((function(e){S<3?C(S+1):k(!0)}))}),[S,e.url]);Object(n.useEffect)((function(){A()}),[A]);var _=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l,{name:"Play Again",onClick:function(){x(void 0),A()}}),Object(o.jsx)(l,{name:"Exit",onClick:function(){e.exit()}})]})};return a?Object(o.jsx)("img",{src:"https://c.tenor.com/I6kN-6X7nhAAAAAj/loading-buffering.gif",alt:"loading"}):w?Object(o.jsxs)("div",{className:"w-75",children:[Object(o.jsx)("h1",{children:"An error has occurred"}),Object(o.jsx)(_,{})]}):Object(o.jsxs)("div",{className:"w-75",children:[Object(o.jsxs)("p",{className:"ma1 f4",children:["Category: ",j.category]}),Object(o.jsxs)("p",{className:"ma1 f4",children:["Difficulty: ",j.difficulty]}),Object(o.jsx)("p",{className:"ma1 f2",dangerouslySetInnerHTML:{__html:j.question}}),void 0===y?Object(o.jsx)("div",{className:"flex flex-wrap",children:O.map((function(t){return Object(o.jsx)("button",{className:"w-50 pa3 f3",onClick:function(){return function(t){x(t===j.correct_answer),t===j.correct_answer?e.onAnswer({easy:25,medium:50,hard:100}[j.difficulty]):e.onAnswer({easy:0,medium:-10,hard:-25}[j.difficulty])}(t)},dangerouslySetInnerHTML:{__html:t}},t)}))}):!0===y?Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{className:"green",children:"Correct"}),Object(o.jsx)(_,{})]}):Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{className:"red",children:"Wrong"}),Object(o.jsx)("h2",{dangerouslySetInnerHTML:{__html:"The correct answer is "+j.correct_answer}}),Object(o.jsx)(_,{})]})]})},j=function(e){var t=Object(n.useState)([]),c=Object(r.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)("any"),u=Object(r.a)(i,2),j=u[0],b=u[1],f=Object(n.useState)("any"),d=Object(r.a)(f,2),O=d[0],h=d[1],m=Object(n.useState)("any"),g=Object(r.a)(m,2),y=g[0],x=g[1];return Object(n.useEffect)((function(){fetch("https://opentdb.com/api_category.php").then((function(e){return e.json()})).then((function(e){s(e.trivia_categories)}))}),[]),Object(n.useEffect)((function(){b(e.setting.type),h(e.setting.difficulty),x(e.setting.category)}),[e.setting.category,e.setting.difficulty,e.setting.type]),Object(o.jsxs)("div",{className:"flex flex-column w-40 f3",children:[Object(o.jsx)("label",{htmlFor:"type",children:"Type:"}),Object(o.jsxs)("select",{className:"mv2",name:"type",id:"type",value:j,onChange:function(e){b(e.target.value)},children:[Object(o.jsx)("option",{value:"any",children:"Any"}),Object(o.jsx)("option",{value:"multiple",children:"Multiple"}),Object(o.jsx)("option",{value:"boolean",children:"True/False"})]}),Object(o.jsx)("label",{htmlFor:"difficulty",children:"Difficulty:"}),Object(o.jsxs)("select",{className:"mv2",name:"difficulty",id:"difficulty",value:O,onChange:function(e){h(e.target.value)},children:[Object(o.jsx)("option",{value:"any",children:"Any"}),Object(o.jsx)("option",{value:"easy",children:"Easy"}),Object(o.jsx)("option",{value:"medium",children:"Medium"}),Object(o.jsx)("option",{value:"hard",children:"Hard"})]}),Object(o.jsx)("label",{htmlFor:"category",children:"Category:"}),Object(o.jsxs)("select",{className:"mv2",name:"category",id:"category",value:y,onChange:function(e){x(e.target.value)},children:[Object(o.jsx)("option",{value:"any",children:"Any"}),a.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(o.jsx)(l,{name:"Back",onClick:function(){e.onBack(j,O,y)}})]})};var b=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),i=Object(r.a)(s,2),b=i[0],f=i[1],d=Object(n.useState)(0),O=Object(r.a)(d,2),h=O[0],m=O[1],g=Object(n.useState)(0),y=Object(r.a)(g,2),x=y[0],p=y[1],v=Object(n.useState)(!1),S=Object(r.a)(v,2),C=S[0],N=S[1],I=Object(n.useState)({type:"multiple",category:"any",difficulty:"any"}),w=Object(r.a)(I,2),k=w[0],A=w[1];Object(n.useEffect)((function(){var e=localStorage.getItem("highscore");null!=e&&m(parseInt(e)),null!=sessionStorage.getItem("lastscore")&&N(!0);var t=localStorage.getItem("setting");null!=t&&A(JSON.parse(t))}),[]);var _=function(){var e=null;return C&&(e=Object(o.jsx)(l,{name:"Continue",onClick:function(){a(!0),p(parseInt(sessionStorage.getItem("lastscore")))}})),Object(o.jsxs)("div",{className:"flex flex-column",children:[Object(o.jsx)(l,{name:"Play",onClick:function(){a(!0)}}),e,Object(o.jsx)(l,{name:"Setting",onClick:function(){f(!0)}})]})};return Object(o.jsxs)("div",{className:"flex flex-column items-center justify-center vh-100 bg-lightest-blue relative",children:[Object(o.jsxs)("div",{className:"absolute top-0 right-0 ph4",children:[Object(o.jsxs)("h2",{children:["Highscore: ",h]}),Object(o.jsxs)("h2",{children:["Score: ",x]})]}),Object(o.jsx)("h1",{className:"f1",children:"Fun Trivia"}),c?Object(o.jsx)(u,{url:function(){var e="";"any"!==k.type&&(e="&type="+encodeURIComponent(k.type));var t="";"any"!==k.category&&(t="&category="+encodeURIComponent(k.category));var c="";return"any"!==k.difficulty&&(c="&difficulty="+encodeURIComponent(k.difficulty)),"https://opentdb.com/api.php?amount=1"+e+t+c}(),exit:function(){a(!1)},onAnswer:function(e){x+e>h&&(m(x+e),localStorage.setItem("highscore",(x+e).toString())),sessionStorage.setItem("lastscore",x+e),p(x+e)}}):b?Object(o.jsx)(j,{onBack:function(e,t,c){f(!1),A({type:e,category:c,difficulty:t}),localStorage.setItem("setting",JSON.stringify({type:e,category:c,difficulty:t}))},setting:k}):Object(o.jsx)(_,{})]})},f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,13)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};c(11);i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(b,{})}),document.getElementById("root")),f()},9:function(e,t,c){}},[[12,1,2]]]);
//# sourceMappingURL=main.63a4e9ad.chunk.js.map